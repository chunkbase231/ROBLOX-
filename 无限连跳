local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

local canJumpAgain = true  -- 跳跃状态标记
local JUMP_COOLDOWN = 0.2  -- 跳跃冷却时间（秒）

RunService.RenderStepped:Connect(function()
    if not character or not humanoid then
        return
    end
    
    -- 检查是否在空中且可以再次跳跃
    local state = humanoid:GetState()
    if (state == Enum.HumanoidStateType.Freefall or 
        state == Enum.HumanoidStateType.FallingDown) and canJumpAgain then
        
        -- 执行跳跃
        humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
        
        -- 进入冷却
        canJumpAgain = false
        task.wait(JUMP_COOLDOWN)
        canJumpAgain = true
    end
end)